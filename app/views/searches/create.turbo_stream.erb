<%= turbo_stream.prepend "searches_list" do %>
    <%= render partial: "searches/search_item", locals: { search: @search } %>
  <% end %>
  
  <%= turbo_stream.replace "search_form" do %>
    <%= form_with model: Search.new,
                 id: "search_form",
                 class: "space-y-6",
                 data: { controller: "search-form" } do |f| %>
      <!-- Include the same form fields as in index.html.erb -->
      <%= render partial: "searches/form_fields", locals: { f: f } %>
    <% end %>
  <% end %>
  
  <%= turbo_stream.append "notifications" do %>
    <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4" data-controller="notification">
      <span class="block sm:inline">Search started! You'll be redirected shortly...</span>
    </div>
  <% end %>
  
  <script>
    setTimeout(() => {
      window.location.href = "<%= search_path(@search) %>";
    }, 500);
  </script>